"use strict";(self.webpackChunkelite_angular_lite=self.webpackChunkelite_angular_lite||[]).push([[49],{7049:(j,C,a)=>{a.r(C),a.d(C,{CustomerModule:()=>D});var u=a(4755),f=a(2480),r=a(9401),c=a(5580),e=a(2223),g=a(7776),d=a(3648),m=a(9151),x=a(430);function A(t,s){1&t&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"name is required.")))}function v(t,s){if(1&t&&(e.TgZ(0,"span",20),e.YNc(1,A,3,3,"span",21),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.CustomerForm.get("fullName").errors?null:o.CustomerForm.get("fullName").errors.required)}}function T(t,s){1&t&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Phone number is required.")))}function _(t,s){if(1&t&&(e.TgZ(0,"span",20),e.YNc(1,T,3,3,"span",21),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.CustomerForm.get("phoneNumber").errors?null:o.CustomerForm.get("phoneNumber").errors.required)}}function b(t,s){1&t&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Location is required.")))}function N(t,s){if(1&t&&(e.TgZ(0,"span",20),e.YNc(1,b,3,3,"span",21),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.CustomerForm.get("location").errors?null:o.CustomerForm.get("location").errors.required)}}function q(t,s){1&t&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Balance is required.")))}function F(t,s){if(1&t&&(e.TgZ(0,"span",20),e.YNc(1,q,3,3,"span",21),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.CustomerForm.get("balance").errors?null:o.CustomerForm.get("balance").errors.required)}}let h=(()=>{class t{constructor(o,n,i,l,p){this.CustomerService=o,this.Toaster=n,this.MatDilogRef=i,this.data=l,this.translateService=p}ngOnInit(){this.InitialzeFor(),this.data&&this.FillCustomerData()}InitialzeFor(){this.CustomerForm=new r.cw({fullName:new r.NI(null,r.kI.required),phoneNumber:new r.NI(null,r.kI.required),location:new r.NI(null,r.kI.required),balance:new r.NI(null,r.kI.required),isActive:new r.NI(!1,r.kI.required)})}FillCustomerData(){this.CustomerService.GetCustomerById(this.data).subscribe({next:o=>{this.CustomerForm.setValue({fullName:o.fullName,phoneNumber:o.phoneNumber,location:o.location,balance:o.balance,isActive:o.isActive})}})}CreateCustomer(){this.data?this.CustomerService.UpdateCustomer(this.data,this.CustomerForm.value).subscribe({next:o=>{this.Toaster.success(this.translateService.instant("Customer Updated Successfuly")),this.MatDilogRef.close(!0)}}):this.CustomerService.CreateCustomer(this.CustomerForm.value).subscribe({next:o=>{this.Toaster.success(this.translateService.instant("Customer Created Successfuly")),this.MatDilogRef.close(!0)}})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(g.v),e.Y36(d._W),e.Y36(c.so),e.Y36(c.WI),e.Y36(m.sK))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-mange-customer"]],decls:49,vars:29,consts:[[1,"container-fluid","mt-5","p-3","position-relative"],["matDialogClose","",1,"position-absolute",2,"top","-39px","right","10px"],["position-absolute","",1,"mb-4"],[3,"formGroup"],[1,"form-group"],["for","fullName"],[1,"text-danger"],["type","text","id","fullName","name","fullName","formControlName","fullName","placeholder","Enter full name",1,"form-control"],["class","ms-2 text-danger",4,"ngIf"],["for","phoneNumber"],["type","text","id","phoneNumber","name","phoneNumber","formControlName","phoneNumber","placeholder","Enter phone number",1,"form-control"],["for","location"],["type","text","id","location","name","location","formControlName","location","placeholder","Enter location",1,"form-control"],["for","balance"],["type","number","id","balance","name","balance","placeholder","Enter balance","formControlName","balance","step","0.01",1,"form-control"],[1,"form-group","form-check"],["type","checkbox","id","isActive","name","isActive","formControlName","isActive",1,"form-check-input"],["for","isActive",1,"form-check-label"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"ms-2","text-danger"],[4,"ngIf"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"mat-icon",1),e._uU(2,"close"),e.qZA(),e.TgZ(3,"h2",2),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"form",3)(7,"div",4)(8,"label",5),e._uU(9),e.ALo(10,"translate"),e.TgZ(11,"span",6),e._uU(12,"*"),e.qZA()(),e._UZ(13,"input",7),e.YNc(14,v,2,1,"span",8),e.qZA(),e.TgZ(15,"div",4)(16,"label",9),e._uU(17),e.ALo(18,"translate"),e.TgZ(19,"span",6),e._uU(20,"*"),e.qZA()(),e._UZ(21,"input",10),e.YNc(22,_,2,1,"span",8),e.qZA(),e.TgZ(23,"div",4)(24,"label",11),e._uU(25),e.ALo(26,"translate"),e.TgZ(27,"span",6),e._uU(28,"*"),e.qZA()(),e._UZ(29,"input",12),e.YNc(30,N,2,1,"span",8),e.qZA(),e.TgZ(31,"div",4)(32,"label",13),e._uU(33),e.ALo(34,"translate"),e.TgZ(35,"span",6),e._uU(36,"*"),e.qZA()(),e._UZ(37,"input",14),e.YNc(38,F,2,1,"span",8),e.qZA(),e.TgZ(39,"div",15),e._UZ(40,"input",16),e.TgZ(41,"label",17),e._uU(42),e.ALo(43,"translate"),e.qZA()(),e.TgZ(44,"div",18)(45,"button",19),e.NdJ("click",function(){return n.CreateCustomer()}),e._uU(46),e.ALo(47,"translate"),e.ALo(48,"translate"),e.qZA()()()()),2&o&&(e.xp6(4),e.hij(" ",e.lcZ(5,13,"Create New Customer")," "),e.xp6(2),e.Q6J("formGroup",n.CustomerForm),e.xp6(3),e.hij("",e.lcZ(10,15,"name")," "),e.xp6(5),e.Q6J("ngIf",n.CustomerForm.get("fullName").invalid&&n.CustomerForm.get("fullName").touched),e.xp6(3),e.hij("",e.lcZ(18,17,"Phone Number")," "),e.xp6(5),e.Q6J("ngIf",n.CustomerForm.get("phoneNumber").invalid&&n.CustomerForm.get("phoneNumber").touched),e.xp6(3),e.hij("",e.lcZ(26,19,"location")," "),e.xp6(5),e.Q6J("ngIf",n.CustomerForm.get("location").invalid&&n.CustomerForm.get("location").touched),e.xp6(3),e.hij("",e.lcZ(34,21,"Balance")," "),e.xp6(5),e.Q6J("ngIf",n.CustomerForm.get("balance").invalid&&n.CustomerForm.get("balance").touched),e.xp6(4),e.Oqu(e.lcZ(43,23,"IsActive")),e.xp6(3),e.Q6J("disabled",n.CustomerForm.invalid),e.xp6(1),e.hij(" ",null==n.data?e.lcZ(47,25,"Create"):e.lcZ(48,27,"Update")," "))},dependencies:[u.O5,x.Hw,c.ZT,r._Y,r.Fj,r.wV,r.Wl,r.JJ,r.JL,r.sg,r.u,m.X$]}),t})();var U=a(5226),Z=a.n(U),I=a(9765);function L(t,s){1&t&&(e.TgZ(0,"th",5),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Actions")," "))}function S(t,s){if(1&t){const o=e.EpF();e.TgZ(0,"td",9)(1,"i",10),e.NdJ("click",function(){e.CHM(o);const i=e.oxw().$implicit,l=e.oxw();return e.KtG(l.OpenDilogForEdit(i.id))}),e.qZA(),e.TgZ(2,"i",11),e.NdJ("click",function(){e.CHM(o);const i=e.oxw().$implicit,l=e.oxw();return e.KtG(l.DeleteCustomer(i.id))}),e.qZA()()}}function M(t,s){if(1&t&&(e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.YNc(11,S,3,0,"td",8),e.qZA()),2&t){const o=s.$implicit,n=e.oxw();e.xp6(2),e.Oqu(o.fullName),e.xp6(2),e.Oqu(o.phoneNumber),e.xp6(2),e.Oqu(o.location),e.xp6(2),e.Oqu(o.balance),e.xp6(2),e.Oqu(o.isActive?"Yes":"No"),e.xp6(1),e.Q6J("ngIf",n.AuthService.IsManger())}}const O=[{path:"",component:(()=>{class t{constructor(o,n,i,l,p){this.CustomerService=o,this.dilog=n,this.ToasterService=i,this.TranslateService=l,this.AuthService=p,this.Lang=localStorage.getItem("lang")}ngOnInit(){this.GetCustomers()}GetCustomers(){this.CustomerService.GetCustomers().subscribe({next:o=>{this.Customers=o}})}ShowDilog(){this.dilog.open(h,{disableClose:!0}).afterClosed().subscribe({next:n=>{n&&this.GetCustomers()}})}OpenDilogForEdit(o){this.dilog.open(h,{data:o,disableClose:!0}).afterClosed().subscribe({next:i=>{i&&this.GetCustomers()}})}DeleteCustomer(o){Z().fire({title:this.TranslateService.instant("Are you sure?"),text:this.TranslateService.instant("You won't be able to revert this!"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.TranslateService.instant("Yes, delete it"),cancelButtonText:this.TranslateService.instant("Cancel")}).then(n=>{n.isConfirmed&&this.CustomerService.DeleteCustomer(o).subscribe({next:i=>{this.ToasterService.success(this.TranslateService.instant("Customer Deleted Successfully")),this.GetCustomers()},error:i=>{Z().fire({icon:"error",title:"Oops...",text:this.TranslateService.instant("Something went wrong")})}})})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(g.v),e.Y36(c.uw),e.Y36(d._W),e.Y36(m.sK),e.Y36(I.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-customer-list"]],decls:26,vars:21,consts:[[2,"overflow-x","auto"],[1,"d-flex","justify-content-end"],[1,"btn","btn-primary","m-1",3,"click"],[1,"table","table-hover"],[1,"bg-dark"],["scope","col",1,"text-light"],["scope","col","class","text-light",4,"ngIf"],[4,"ngFor","ngForOf"],["class","d-flex gap-2",4,"ngIf"],[1,"d-flex","gap-2"],[1,"fs-6","fa-solid","fa-pen-to-square","pointer",3,"click"],[1,"fs-6","fa-solid","fa-trash","pointer",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return n.ShowDilog()}),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"table",3)(6,"thead",4)(7,"tr")(8,"th",5),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"th",5),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th",5),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th",5),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th",5),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.YNc(23,L,3,3,"th",6),e.qZA()(),e.TgZ(24,"tbody"),e.YNc(25,M,12,6,"tr",7),e.qZA()()()),2&o&&(e.xp6(3),e.hij(" ",e.lcZ(4,9,"Create Customer")," "),e.xp6(2),e.uIk("dir","ar"===n.Lang?"rtl":"ltr"),e.xp6(4),e.Oqu(e.lcZ(10,11,"name")),e.xp6(3),e.Oqu(e.lcZ(13,13,"mobile")),e.xp6(3),e.Oqu(e.lcZ(16,15,"location")),e.xp6(3),e.Oqu(e.lcZ(19,17,"balance")),e.xp6(3),e.Oqu(e.lcZ(22,19,"IsActive")),e.xp6(2),e.Q6J("ngIf",n.AuthService.IsManger()),e.xp6(2),e.Q6J("ngForOf",n.Customers))},dependencies:[u.sg,u.O5,m.X$]}),t})(),canActivate:[a(652).p]}];let J=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[f.Bz.forChild(O),f.Bz]}),t})();var w=a(4493);let D=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.ez,J,w.m,r.UX,r.u5]}),t})()}}]);