"use strict";(self.webpackChunkelite_angular_lite=self.webpackChunkelite_angular_lite||[]).push([[686],{6686:(Y,d,n)=>{n.r(d),n.d(d,{StoreModule:()=>U});var u=n(4755),S=n(2480),x=n(5226),f=n.n(x),i=n(9401),m=n(5580),t=n(2223),g=n(8987),h=n(3648),p=n(9151),Z=n(430);function A(o,s){1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij("",t.lcZ(2,1,"name is required"),"."))}function C(o,s){if(1&o&&(t.TgZ(0,"span",14),t.YNc(1,A,3,3,"span",15),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.StoreForm.get("Name").errors?null:e.StoreForm.get("Name").errors.required)}}let v=(()=>{class o{constructor(e,r,a,l,c){this.StoreService=e,this.Toaster=r,this.MatDilogRef=a,this.data=l,this.translateService=c}ngOnInit(){this.InitialzeFor(),this.data&&this.FillStoreData()}InitialzeFor(){this.StoreForm=new i.cw({Name:new i.NI(null,i.kI.required),isActive:new i.NI(!1,i.kI.required)})}FillStoreData(){this.StoreService.GetStoreById(this.data).subscribe({next:e=>{this.StoreForm.setValue({Name:e.name,isActive:e.isActive})}})}CreateStore(){this.data?this.StoreService.UpdateStore(this.data,this.StoreForm.value).subscribe({next:e=>{this.Toaster.success(this.translateService.instant("Store Updated Successfuly")),this.MatDilogRef.close(!0)}}):this.StoreService.CreateStore(this.StoreForm.value).subscribe({next:e=>{this.Toaster.success(this.translateService.instant("Store Created Successfuly")),this.MatDilogRef.close(!0)}})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(g.d),t.Y36(h._W),t.Y36(m.so),t.Y36(m.WI),t.Y36(p.sK))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-mange-store"]],decls:25,vars:17,consts:[[1,"container-fluid","mt-5","p-3","position-relative"],["matDialogClose","",1,"position-absolute",2,"top","-39px","right","10px"],["position-absolute","",1,"mb-4"],[3,"formGroup"],[1,"form-group"],["for","fullName"],[1,"text-danger"],["type","text","formControlName","Name","placeholder","Enter full name",1,"form-control"],["class","ms-2 text-danger",4,"ngIf"],[1,"form-group","form-check"],["type","checkbox","id","isActive","name","isActive","formControlName","isActive",1,"form-check-input"],["for","isActive",1,"form-check-label"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"ms-2","text-danger"],[4,"ngIf"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"mat-icon",1),t._uU(2,"close"),t.qZA(),t.TgZ(3,"h2",2),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"form",3)(7,"div",4)(8,"label",5),t._uU(9),t.ALo(10,"translate"),t.TgZ(11,"span",6),t._uU(12,"*"),t.qZA()(),t._UZ(13,"input",7),t.YNc(14,C,2,1,"span",8),t.qZA(),t.TgZ(15,"div",9),t._UZ(16,"input",10),t.TgZ(17,"label",11),t._uU(18),t.ALo(19,"translate"),t.qZA()(),t.TgZ(20,"div",12)(21,"button",13),t.NdJ("click",function(){return r.CreateStore()}),t._uU(22),t.ALo(23,"translate"),t.ALo(24,"translate"),t.qZA()()()()),2&e&&(t.xp6(4),t.Oqu(t.lcZ(5,7,"Create New Store")),t.xp6(2),t.Q6J("formGroup",r.StoreForm),t.xp6(3),t.hij("",t.lcZ(10,9,"name")," "),t.xp6(5),t.Q6J("ngIf",r.StoreForm.get("Name").invalid&&r.StoreForm.get("Name").touched),t.xp6(4),t.Oqu(t.lcZ(19,11,"IsActive")),t.xp6(3),t.Q6J("disabled",r.StoreForm.invalid),t.xp6(1),t.hij(" ",null==r.data?t.lcZ(23,13,"Create"):t.lcZ(24,15,"Update")," "))},dependencies:[u.O5,Z.Hw,m.ZT,i._Y,i.Fj,i.Wl,i.JJ,i.JL,i.sg,i.u,p.X$]}),o})();var T=n(9765);function b(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"i",10),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,l=t.oxw();return t.KtG(l.DeleteStore(a.id))}),t.qZA()}}function F(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"th"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",7)(6,"i",8),t.NdJ("click",function(){const l=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.OpenDilogForEdit(l.id))}),t.qZA(),t.YNc(7,b,1,0,"i",9),t.qZA()()}if(2&o){const e=s.$implicit,r=t.oxw();t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.isActive?"Yes":"No"),t.xp6(3),t.Q6J("ngIf",r.AuthService.IsManger())}}const y=[{path:"",component:(()=>{class o{constructor(e,r,a,l,c){this.StoreService=e,this.dilog=r,this.ToasterService=a,this.TranslateService=l,this.AuthService=c,this.Lang=localStorage.getItem("lang")}ngOnInit(){this.GetStores()}GetStores(){this.StoreService.GetStores().subscribe({next:e=>{this.Stores=e}})}ShowDilog(){this.dilog.open(v,{disableClose:!0}).afterClosed().subscribe({next:r=>{r&&this.GetStores()}})}OpenDilogForEdit(e){this.dilog.open(v,{data:e,disableClose:!0}).afterClosed().subscribe({next:a=>{a&&this.GetStores()}})}DeleteStore(e){f().fire({title:this.TranslateService.instant("Are you sure?"),text:this.TranslateService.instant("You won't be able to revert this!"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.TranslateService.instant("Yes, delete it"),cancelButtonText:this.TranslateService.instant("Cancel")}).then(r=>{r.isConfirmed&&this.StoreService.DeleteStore(e).subscribe({next:a=>{this.ToasterService.success(this.TranslateService.instant("Store Deleted Successfully")),this.GetStores()},error:a=>{f().fire({icon:"error",title:"Oops...",text:this.TranslateService.instant("Something went wrong")})}})})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(g.d),t.Y36(m.uw),t.Y36(h._W),t.Y36(p.sK),t.Y36(T.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-store-list"]],decls:19,vars:14,consts:[[2,"overflow-x","auto"],[1,"d-flex","justify-content-end"],[1,"btn","btn-primary","m-1",3,"click"],[1,"table","table-hover"],[1,"bg-dark"],["scope","col",1,"text-light"],[4,"ngFor","ngForOf"],[1,"d-flex","gap-2"],[1,"fs-6","fa-solid","fa-pen-to-square","pointer",3,"click"],["class","fs-6 fa-solid fa-trash pointer",3,"click",4,"ngIf"],[1,"fs-6","fa-solid","fa-trash","pointer",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return r.ShowDilog()}),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"table",3)(6,"thead",4)(7,"tr")(8,"th",5),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"th",5),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"th",5),t._uU(15),t.ALo(16,"translate"),t.qZA()()(),t.TgZ(17,"tbody"),t.YNc(18,F,8,3,"tr",6),t.qZA()()()),2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,6,"Create Store")," "),t.xp6(2),t.uIk("dir","ar"===r.Lang?"rtl":"ltr"),t.xp6(4),t.Oqu(t.lcZ(10,8,"name")),t.xp6(3),t.Oqu(t.lcZ(13,10,"IsActive")),t.xp6(3),t.Oqu(t.lcZ(16,12,"Actions")),t.xp6(3),t.Q6J("ngForOf",r.Stores))},dependencies:[u.sg,u.O5,p.X$]}),o})(),canActivate:[n(652).p]}];let I=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[S.Bz.forChild(y),S.Bz]}),o})();var M=n(4493);let U=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[u.ez,I,M.m,i.u5,i.UX]}),o})()}}]);